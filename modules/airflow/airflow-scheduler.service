[Unit]
Description=Apache Airflow Scheduler
After=network.target
# Optional: After=postgresql.service mysql.service redis.service

[Service]
User=airflow
Group=airflow
Type=simple
ExecStart=/opt/airflow/venv/bin/airflow scheduler --pid /run/airflow/airflow-scheduler.pid
Restart=on-failure
RestartSec=5s
Environment=AIRFLOW_HOME=/var/lib/airflow
Environment=AIRFLOW_CONFIG=/etc/airflow/airflow.cfg
WorkingDirectory=/var/lib/airflow

[Install]
WantedBy=multi-user.target
